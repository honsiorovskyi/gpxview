{"version":3,"file":"436.bundle.js","mappings":"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","sources":["webpack://gpx-viewer/./node_modules/@raruto/leaflet-elevation/libs/leaflet-distance-marker.min.js"],"sourcesContent":["L.DistanceMarker=L.CircleMarker.extend({_updatePath:function(){let ctx=this._renderer._ctx,p=this._point;if(this.options.rotation=this.options.rotation||0,this.options.radius&&this._renderer._updateCircle&&this._renderer._updateCircle(this),this.options.icon&&this.options.icon.url)if(this.options.icon.element){const icon=this.options.icon;let cx=p.x+icon.offset.x,cy=p.y+icon.offset.y;ctx.save(),icon.rotate&&(ctx.translate(p.x,p.y),ctx.rotate(icon.rotate),cx=0,cy=0),ctx.drawImage(icon.element,cx-icon.size[0]/2,cy-icon.size[1]/2,icon.size[0],icon.size[1]),ctx.restore()}else{const icon=document.createElement(\"img\");this.options.icon=L.extend({rotate:0,size:[40,40],offset:{x:0,y:0}},this.options.icon),this.options.icon.rotate+=this.options.rotation,this.options.icon.element=icon,icon.src=this.options.icon.url,icon.onload=()=>this.redraw(),icon.onerror=()=>this.options.icon=null}if(this.options.label){let cx=p.x,cy=p.y;ctx.save(),ctx.font=this.options.font||'normal 7pt \"Helvetica Neue\", Arial, Helvetica, sans-serif',ctx.textAlign=\"center\",ctx.textBaseline=\"middle\",ctx.fillStyle=this.options.fillStyle||\"black\",this.options.rotation&&(ctx.translate(p.x,p.y),ctx.rotate(this.options.rotation),cx=0,cy=0),this._map.getZoom()>17&&(ctx.fillStyle=this.options.strokeStyle||\"black\"),ctx.fillText(this.options.label,cx,cy),this.options.strokeStyle&&this._map.getZoom()<=17&&(ctx.strokeStyle=this.options.strokeStyle,ctx.strokeText(this.options.label,cx,cy)),ctx.restore()}}}),L.DistanceMarkers=L.LayerGroup.extend({options:{cssClass:\"dist-marker\",iconSize:[12,12],arrowSize:[10,10],arrowUrl:\"data:image/svg+xml,%3Csvg transform='rotate(90)' xmlns='http://www.w3.org/2000/svg' width='560px' height='560px' viewBox='0 0 560 560'%3E%3Cpath stroke-width='35' fill='%23000' stroke='%23FFF' d='M280,40L522,525L280,420L38,525z'/%3E%3C/svg%3E\",offset:1e3,showAll:12,textFunction:(distance,i,offset)=>i,distance:!0,direction:!0},initialize:function(line,map,options){this._layers={},this._zoomLayers={},options=L.setOptions(this,options);let preferCanvas=map.options.preferCanvas,showAll=Math.min(map.getMaxZoom(),options.showAll);preferCanvas||map.options.rotate||console.warn('Missing dependency: \"leaflet-rotate\"');let coords=\"function\"==typeof line.getLatLngs?line.getLatLngs():line;coords=L.LineUtil.isFlat(coords)?[coords]:coords,coords.forEach(latlngs=>{let accumulated=L.GeometryUtil.accumulatedLengths(latlngs),length=accumulated.length>0?accumulated[accumulated.length-1]:0;for(let i=1,count=Math.floor(length/options.offset),j=0;i<=count;++i){let distance=options.offset*i;for(;j<accumulated.length-1&&accumulated[j]<distance;)++j;let p1=latlngs[j-1],p2=latlngs[j],m_line=L.polyline([p1,p2]),ratio=(distance-accumulated[j-1])/(accumulated[j]-accumulated[j-1]),position=L.GeometryUtil.interpolateOnLine(map,m_line,ratio),delta=map.project(p2).subtract(map.project(p1)),angle=Math.atan2(delta.y,delta.x),text=options.textFunction.call(this,distance,i,options.offset),zoom=this._minimumZoomLevelForItem(i,showAll),markers=this._zoomLayers[zoom]=this._zoomLayers[zoom]||L.layerGroup();options.direction&&(options.distance&&i%2==1||!options.distance)&&(preferCanvas?markers.addLayer(new L.DistanceMarker(p1,{radius:0,icon:{url:options.arrowUrl,size:options.arrowSize,rotate:0,offset:{x:0,y:0}},rotation:angle,interactive:!1})):markers.addLayer(L.marker(position.latLng,{icon:L.icon({iconUrl:options.arrowUrl,iconSize:options.arrowSize}),rotation:angle,interactive:!1}))),options.distance&&i%2==0&&(preferCanvas?markers.addLayer(new L.DistanceMarker(position.latLng,{label:text,radius:7,fillColor:\"#fff\",fillOpacity:1,fillStyle:\"black\",color:\"#777\",weight:1,interactive:!1})):markers.addLayer(L.marker(position.latLng,{title:text,icon:L.divIcon({className:options.cssClass,html:text,iconSize:options.iconSize}),interactive:!1})))}});const updateMarkerVisibility=()=>{let oldZoom=this._lastZoomLevel||0,newZoom=map.getZoom();if(newZoom>oldZoom)for(let i=oldZoom+1;i<=newZoom;++i)void 0!==this._zoomLayers[i]&&this.addLayer(this._zoomLayers[i]);else if(newZoom<oldZoom)for(let i=oldZoom;i>newZoom;--i)void 0!==this._zoomLayers[i]&&this.removeLayer(this._zoomLayers[i]);this._lastZoomLevel=newZoom};map.on(\"zoomend\",updateMarkerVisibility),updateMarkerVisibility()},_minimumZoomLevelForItem:function(i,zoom){for(;i>0&&i%2==0;)--zoom,i=Math.floor(i/2);return zoom}}),L.Polyline.include({_originalOnAdd:L.Polyline.prototype.onAdd,_originalOnRemove:L.Polyline.prototype.onRemove,addDistanceMarkers:function(){this._map&&this._distanceMarkers&&this._map.addLayer(this._distanceMarkers)},removeDistanceMarkers:function(){this._map&&this._distanceMarkers&&this._map.removeLayer(this._distanceMarkers)},onAdd:function(map){this._originalOnAdd(map);let opts=this.options.distanceMarkers||{};this.options.distanceMarkers&&(this._distanceMarkers=this._distanceMarkers||new L.DistanceMarkers(this,map,opts)),void 0!==opts.lazy&&!1!==opts.lazy||this.addDistanceMarkers()},onRemove:function(map){this.removeDistanceMarkers(),this._originalOnRemove(map)}});"],"names":["L","DistanceMarker","CircleMarker","extend","_updatePath","ctx","this","_renderer","_ctx","p","_point","options","rotation","radius","_updateCircle","icon","url","element","cx","x","offset","cy","y","save","rotate","translate","drawImage","size","restore","document","createElement","src","onload","redraw","onerror","label","font","textAlign","textBaseline","fillStyle","_map","getZoom","strokeStyle","fillText","strokeText","DistanceMarkers","LayerGroup","cssClass","iconSize","arrowSize","arrowUrl","showAll","textFunction","distance","i","direction","initialize","line","map","_layers","_zoomLayers","setOptions","preferCanvas","Math","min","getMaxZoom","console","warn","coords","getLatLngs","LineUtil","isFlat","forEach","latlngs","accumulated","GeometryUtil","accumulatedLengths","length","count","floor","j","p1","p2","m_line","polyline","ratio","position","interpolateOnLine","delta","project","subtract","angle","atan2","text","call","zoom","_minimumZoomLevelForItem","markers","layerGroup","addLayer","interactive","marker","latLng","iconUrl","fillColor","fillOpacity","color","weight","title","divIcon","className","html","updateMarkerVisibility","oldZoom","_lastZoomLevel","newZoom","removeLayer","on","Polyline","include","_originalOnAdd","prototype","onAdd","_originalOnRemove","onRemove","addDistanceMarkers","_distanceMarkers","removeDistanceMarkers","opts","distanceMarkers","lazy"],"sourceRoot":""}