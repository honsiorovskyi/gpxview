{"version":3,"file":"665.bundle.js","mappings":"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","sources":["webpack://gpx-viewer/./node_modules/@raruto/leaflet-elevation/libs/leaflet-hotline.min.js"],"sourcesContent":["!function(root,plugin){\"function\"==typeof define&&define.amd?define([\"leaflet\"],plugin):\"object\"==typeof exports?module.exports=plugin:plugin(root.L)}(window,(function(L){if(L.Hotline)return L;var Hotline=function(canvas){if(!(this instanceof Hotline))return new Hotline(canvas);var defaultPalette={0:\"green\",.5:\"yellow\",1:\"red\"};this._canvas=canvas=\"string\"==typeof canvas?document.getElementById(canvas):canvas,this._ctx=canvas.getContext(\"2d\"),this._width=canvas.width,this._height=canvas.height,this._weight=5,this._outlineWidth=1,this._outlineColor=\"black\",this._min=0,this._max=1,this._data=[],this.palette(defaultPalette)};Hotline.prototype={width:function(width){return this._width=width,this},height:function(height){return this._height=height,this},weight:function(weight){return this._weight=weight,this},outlineWidth:function(outlineWidth){return this._outlineWidth=outlineWidth,this},outlineColor:function(outlineColor){return this._outlineColor=outlineColor,this},palette:function(palette){var canvas=document.createElement(\"canvas\"),ctx=canvas.getContext(\"2d\"),gradient=ctx.createLinearGradient(0,0,0,256);for(var i in canvas.width=1,canvas.height=256,palette)gradient.addColorStop(i,palette[i]);return ctx.fillStyle=gradient,ctx.fillRect(0,0,1,256),this._palette=ctx.getImageData(0,0,1,256).data,this},min:function(min){return this._min=min,this},max:function(max){return this._max=max,this},data:function(data){return this._data=data,this},add:function(path){return this._data.push(path),this},draw:function(){var ctx=this._ctx;return ctx.globalCompositeOperation=\"source-over\",ctx.lineCap=\"round\",this._drawOutline(ctx),this._drawHotline(ctx),this},getRGBForValue:function(value){var valueRelative=Math.min(Math.max((value-this._min)/(this._max-this._min),0),.999),paletteIndex=4*Math.floor(256*valueRelative);return[this._palette[paletteIndex],this._palette[paletteIndex+1],this._palette[paletteIndex+2]]},_drawOutline:function(ctx){var i,j,dataLength,path,pathLength,pointStart,pointEnd;if(this._outlineWidth)for(i=0,dataLength=this._data.length;i<dataLength;i++)for(path=this._data[i],ctx.lineWidth=this._weight+2*this._outlineWidth,j=1,pathLength=path.length;j<pathLength;j++)pointStart=path[j-1],pointEnd=path[j],ctx.strokeStyle=this._outlineColor,ctx.beginPath(),ctx.moveTo(pointStart.x,pointStart.y),ctx.lineTo(pointEnd.x,pointEnd.y),ctx.stroke()},_drawHotline:function(ctx){var i,j,dataLength,path,pathLength,pointStart,pointEnd,gradient,gradientStartRGB,gradientEndRGB;for(ctx.lineWidth=this._weight,i=0,dataLength=this._data.length;i<dataLength;i++)for(j=1,pathLength=(path=this._data[i]).length;j<pathLength;j++)pointStart=path[j-1],pointEnd=path[j],gradient=ctx.createLinearGradient(pointStart.x,pointStart.y,pointEnd.x,pointEnd.y),gradientStartRGB=this.getRGBForValue(pointStart.z),gradientEndRGB=this.getRGBForValue(pointEnd.z),gradient.addColorStop(0,\"rgb(\"+gradientStartRGB.join(\",\")+\")\"),gradient.addColorStop(1,\"rgb(\"+gradientEndRGB.join(\",\")+\")\"),ctx.strokeStyle=gradient,ctx.beginPath(),ctx.moveTo(pointStart.x,pointStart.y),ctx.lineTo(pointEnd.x,pointEnd.y),ctx.stroke()}};var Renderer=L.Canvas.extend({_initContainer:function(){L.Canvas.prototype._initContainer.call(this),this._hotline=new Hotline(this._container)},_update:function(){L.Canvas.prototype._update.call(this),this._hotline.width(this._container.width),this._hotline.height(this._container.height)},_updatePoly:function(layer){if(this._drawing){var parts=layer._parts;parts.length&&(this._updateOptions(layer),this._hotline.data(parts).draw())}},_updateOptions:function(layer){null!=layer.options.min&&this._hotline.min(layer.options.min),null!=layer.options.max&&this._hotline.max(layer.options.max),null!=layer.options.weight&&this._hotline.weight(layer.options.weight),null!=layer.options.outlineWidth&&this._hotline.outlineWidth(layer.options.outlineWidth),null!=layer.options.outlineColor&&this._hotline.outlineColor(layer.options.outlineColor),layer.options.palette&&this._hotline.palette(layer.options.palette)}}),renderer=function(options){return L.Browser.canvas?new Renderer(options):null},Util={clipSegment:function(a,b,bounds,useLastCode,round){var codeA=useLastCode?this._lastCode:L.LineUtil._getBitCode(a,bounds),codeB=L.LineUtil._getBitCode(b,bounds),codeOut,p,newCode;for(this._lastCode=codeB;;){if(!(codeA|codeB))return[a,b];if(codeA&codeB)return!1;codeOut=codeA||codeB,p=L.LineUtil._getEdgeIntersection(a,b,codeOut,bounds,round),newCode=L.LineUtil._getBitCode(p,bounds),codeOut===codeA?(p.z=a.z,a=p,codeA=newCode):(p.z=b.z,b=p,codeB=newCode)}}};return L.Hotline=L.Polyline.extend({statics:{Renderer:Renderer,renderer:renderer},options:{renderer:renderer(),min:0,max:1,palette:{0:\"green\",.5:\"yellow\",1:\"red\"},weight:5,outlineColor:\"black\",outlineWidth:1},getRGBForValue:function(value){return this._renderer._hotline.getRGBForValue(value)},_projectLatlngs:function(latlngs,result,projectedBounds){var flat=latlngs[0]instanceof L.LatLng,len=latlngs.length,i,ring;if(flat){for(ring=[],i=0;i<len;i++)ring[i]=this._map.latLngToLayerPoint(latlngs[i]),ring[i].z=latlngs[i].alt,projectedBounds.extend(ring[i]);result.push(ring)}else for(i=0;i<len;i++)this._projectLatlngs(latlngs[i],result,projectedBounds)},_clipPoints:function(){if(this.options.noClip)this._parts=this._rings;else{this._parts=[];var parts=this._parts,bounds=this._renderer._bounds,i,j,k,len,len2,segment,points;for(i=0,k=0,len=this._rings.length;i<len;i++)for(j=0,len2=(points=this._rings[i]).length;j<len2-1;j++)(segment=Util.clipSegment(points[j],points[j+1],bounds,j,!0))&&(parts[k]=parts[k]||[],parts[k].push(segment[0]),segment[1]===points[j+1]&&j!==len2-2||(parts[k].push(segment[1]),k++))}},_clickTolerance:function(){return this.options.weight/2+this.options.outlineWidth+(L.Browser.touch?10:0)}}),L.hotline=function(latlngs,options){return new L.Hotline(latlngs,options)},L}));"],"names":["root","plugin","window","L","Hotline","canvas","this","_canvas","document","getElementById","_ctx","getContext","_width","width","_height","height","_weight","_outlineWidth","_outlineColor","_min","_max","_data","palette","prototype","weight","outlineWidth","outlineColor","createElement","ctx","gradient","createLinearGradient","i","addColorStop","fillStyle","fillRect","_palette","getImageData","data","min","max","add","path","push","draw","globalCompositeOperation","lineCap","_drawOutline","_drawHotline","getRGBForValue","value","valueRelative","Math","paletteIndex","floor","j","dataLength","pathLength","pointStart","pointEnd","length","lineWidth","strokeStyle","beginPath","moveTo","x","y","lineTo","stroke","gradientStartRGB","gradientEndRGB","z","join","Renderer","Canvas","extend","_initContainer","call","_hotline","_container","_update","_updatePoly","layer","_drawing","parts","_parts","_updateOptions","options","renderer","Browser","Util","clipSegment","a","b","bounds","useLastCode","round","codeOut","p","newCode","codeA","_lastCode","LineUtil","_getBitCode","codeB","_getEdgeIntersection","Polyline","statics","_renderer","_projectLatlngs","latlngs","result","projectedBounds","ring","flat","LatLng","len","_map","latLngToLayerPoint","alt","_clipPoints","noClip","_rings","k","len2","segment","points","_bounds","_clickTolerance","touch","hotline","define","amd","exports","module"],"sourceRoot":""}