{"version":3,"file":"368.bundle.js","mappings":"6GAAAA,EAAEC,QAAQC,MAAMF,EAAEC,QAAQE,OAAO,CAACC,QAAQ,CAACC,SAAS,WAAWC,aAAa,CAACC,MAAM,MAAMC,OAAO,GAAGC,UAAU,CAACF,MAAM,MAAMG,UAAU,OAAOC,WAAW,CAACC,QAAQ,KAAKC,QAAQ,EAAEC,OAAO,KAAKC,MAAM,aAAaC,UAAU,CAACJ,QAAQ,QAAQC,QAAQ,EAAEC,OAAO,IAAIC,MAAM,aAAaE,WAAW,SAASb,GAASJ,EAAEkB,WAAWC,KAAKf,GAASe,KAAKC,QAAQpB,EAAEqB,aAAaF,KAAKG,UAAS,CAAE,EAAEC,MAAM,SAASC,GAAKL,KAAKM,eAAeD,EAAIE,WAAWC,MAAMC,OAAOT,KAAKU,KAAKL,EAAI,IAAIM,EAAU9B,EAAE+B,QAAQC,OAAO,MAAM,eAAe,OAAOF,EAAUG,UAAUC,IAAI,iBAAiBlC,EAAEmC,SAASC,wBAAwBN,GAAW9B,EAAEmC,SAASE,GAAGP,EAAU,QAAQX,KAAKmB,eAAenB,MAAMA,KAAKO,WAAWI,CAAS,EAAES,SAAS,WAAWvC,EAAEmC,SAASK,IAAIrB,KAAKO,WAAW,QAAQP,KAAKmB,eAAenB,KAAK,EAAEsB,mBAAmB,WAAW,IAAIjB,EAAIL,KAAKU,KAAKL,EAAIkB,gBAAgBC,UAAU3C,EAAEmC,SAASE,GAAGb,EAAIE,WAAW,UAAUP,KAAKyB,QAAQzB,MAAMnB,EAAEmC,SAASE,GAAGb,EAAIE,WAAW,WAAWP,KAAK0B,WAAW1B,MAAMK,EAAIE,WAAWC,MAAMC,OAAO,YAAYJ,EAAIa,GAAG,QAAQlB,KAAK2B,UAAU3B,MAAMK,EAAIa,GAAG,YAAYlB,KAAK4B,QAAQ5B,KAAK,EAAE6B,mBAAmB,WAAW,IAAIxB,EAAIL,KAAKU,KAAKL,EAAIkB,gBAAgBO,SAASjD,EAAEmC,SAASK,IAAIhB,EAAIE,WAAW,UAAUP,KAAKyB,QAAQzB,MAAMnB,EAAEmC,SAASK,IAAIhB,EAAIE,WAAW,WAAWP,KAAK0B,WAAW1B,MAAMK,EAAIE,WAAWC,MAAMC,OAAOT,KAAKM,eAAeD,EAAIgB,IAAI,QAAQrB,KAAK2B,UAAU3B,MAAMK,EAAIgB,IAAI,YAAYrB,KAAK4B,QAAQ5B,KAAK,EAAE+B,SAAS,WAAW/B,KAAKG,UAAS,EAAGH,KAAKO,WAAWO,UAAUkB,OAAO,yBAAyBhC,KAAKU,KAAKuB,YAAYjC,KAAKC,SAASD,KAAKC,QAAQpB,EAAEqB,aAAaF,KAAKkC,SAAS,GAAGlC,KAAKmC,aAAa,EAAEnC,KAAK6B,oBAAoB,EAAEO,QAAQ,WAAWpC,KAAKG,UAAS,EAAGH,KAAKO,WAAWO,UAAUC,IAAI,yBAAyBf,KAAKqC,SAASxD,EAAEyD,eAAeC,MAAMvC,KAAKC,SAASD,KAAKwC,UAAU3D,EAAE4D,SAAS,GAAGzC,KAAKf,QAAQK,WAAWiD,MAAMvC,KAAKC,SAASD,KAAKC,QAAQsC,MAAMvC,KAAKU,MAAMV,KAAKkC,SAAS,GAAGlC,KAAKmC,aAAa,EAAEnC,KAAKsB,oBAAoB,EAAEH,eAAe,WAAWnB,KAAKG,SAASH,KAAK+B,WAAW/B,KAAKoC,SAAS,EAAEM,aAAa,SAASC,EAAOC,EAAMC,GAAa,IAAkNC,EAAYC,EAA1NC,EAAWhD,KAAKkC,SAASe,OAAOC,EAAUF,EAAWhD,KAAKkC,SAASc,EAAW,GAAGL,EAAOQ,EAAQnD,KAAKoD,kBAAkBF,EAAUP,GAAQU,EAASH,EAAUI,WAAWX,GAAQ3C,KAAKf,QAAQO,WAAWG,OAA8BkD,GAAaC,GAAaE,EAAWK,EAASrD,KAAKmC,cAAc,EAAEkB,GAAUE,QAAQvD,KAAKf,QAAQO,WAAWE,SAASqD,EAAWC,EAAW,kCAAkCK,EAASE,QAAQvD,KAAKf,QAAQO,WAAWE,SAAS,UAAU,KAAKM,KAAKmC,cAAckB,EAASP,GAAaE,EAAWhD,KAAKmC,aAAakB,GAAUE,QAAQvD,KAAKf,QAAQO,WAAWE,SAASqD,EAAW,IAAI,IAAIS,EAAK,MAAMxD,KAAKf,QAAQY,UAAUD,MAAM,aAAauD,EAAQI,QAAQvD,KAAKf,QAAQY,UAAUH,SAAS,SAASM,KAAKf,QAAQY,UAAUJ,QAAQ,UAAUO,KAAKf,QAAQO,WAAWI,MAAM,aAAakD,EAAY,SAAS9C,KAAKf,QAAQO,WAAWC,QAAQsD,EAAWH,EAAMa,UAAUd,GAAQ,IAAIe,EAAQd,EAAMe,aAAa,OAAOD,EAAQA,EAAQE,kBAAkBJ,GAAMZ,EAAMiB,YAAYL,EAAKX,EAAY,CAACiB,UAAU,OAAOC,QAAO,EAAGC,OAAOnF,EAAEoF,MAAM,GAAG,IAAIC,UAAU,kBAAkB,CAACC,WAAU,EAAGD,UAAU,mBAAmBE,cAAcxB,CAAK,EAAEjB,UAAU,SAAS0C,GAAG,IAAI1B,EAAO0B,EAAE1B,QAAQ0B,EAAEJ,EAAMpF,EAAEM,aAAawD,EAAO3C,KAAKf,QAAQE,cAAcoD,MAAMvC,KAAKqC,UAAUrC,KAAKwC,UAAU8B,UAAU3B,GAAQ3C,KAAKkC,SAASe,SAASN,EAAO4B,OAAOvE,KAAKkC,SAASlC,KAAKkC,SAASe,OAAO,KAAKjD,KAAK0C,aAAaC,EAAOsB,GAAM,GAAIjE,KAAKkC,SAASsC,KAAK7B,EAAO,EAAEf,QAAQ,SAASyC,GAAG,GAAGrE,KAAKkC,SAASe,OAAO,CAAC,IAAIwB,EAAUzE,KAAKkC,SAASlC,KAAKkC,SAASe,OAAO,GAAGjD,KAAK0E,YAAY1E,KAAK0E,UAAU7F,EAAE4D,SAAS,GAAGzC,KAAKf,QAAQK,WAAWiD,MAAMvC,KAAKU,OAAOV,KAAK2E,aAAa3E,KAAK2E,WAAW9F,EAAEM,aAAakF,EAAE1B,OAAO3C,KAAKf,QAAQE,cAAcoD,MAAMvC,KAAKU,OAAOV,KAAK0E,UAAUE,WAAW,CAACH,EAAUJ,EAAE1B,SAAS3C,KAAK0C,aAAa2B,EAAE1B,OAAO3C,KAAK2E,YAAW,GAAI9F,EAAEmC,SAASK,IAAIrB,KAAKO,WAAW,QAAQP,KAAKmB,eAAenB,KAAK,CAAC,EAAEyB,QAAQ,SAAS4C,GAAG,KAAKA,EAAEQ,UAAU7E,KAAKkC,SAASe,OAAOjD,KAAK0B,cAAc1B,KAAKG,UAAS,EAAGH,KAAKmB,kBAAkB,EAAEiC,kBAAkB,SAAS0B,EAAMC,GAAK,MAAMC,EAAMnG,EAAE+B,QAAQqE,WAAWC,EAAMlF,KAAKf,QAAQY,UAAUF,OAAO,EAAEwF,KAAKC,GAAG,IAAIC,EAAEF,KAAKG,KAAKP,EAAIQ,IAAIT,EAAMS,KAAKP,GAAOG,KAAKK,IAAIT,EAAIU,IAAIT,GAAOU,EAAEP,KAAKK,IAAIV,EAAMW,IAAIT,GAAOG,KAAKG,IAAIP,EAAIU,IAAIT,GAAOG,KAAKG,IAAIR,EAAMW,IAAIT,GAAOG,KAAKK,IAAIT,EAAIU,IAAIT,GAAOG,KAAKK,KAAKT,EAAIQ,IAAIT,EAAMS,KAAKP,GAAO,OAAOG,KAAKQ,MAAMN,EAAEK,GAAGR,EAAMlF,KAAKf,QAAQY,UAAUF,QAAQK,KAAKf,QAAQY,UAAUF,MAAM,EAAE+B,WAAW,WAAW1B,KAAK0E,YAAY1E,KAAKU,KAAKuB,YAAYjC,KAAK0E,WAAW1E,KAAK0E,UAAU,MAAM1E,KAAK2E,aAAa3E,KAAKU,KAAKuB,YAAYjC,KAAK2E,YAAY3E,KAAK0E,UAAU,MAAM1E,KAAKkC,SAASe,QAAQ,GAAGjD,KAAKU,KAAKuB,YAAYjC,KAAKqC,UAAUrC,KAAKG,UAAS,EAAGtB,EAAEmC,SAASE,GAAGlB,KAAKO,WAAW,QAAQP,KAAKmB,eAAenB,MAAMA,KAAKmB,gBAAgB,IAAItC,EAAE+G,QAAQC,MAAM,SAAS5G,GAAS,OAAO,IAAIJ,EAAEC,QAAQC,MAAME,EAAQ,C","sources":["webpack://gpx-viewer/./node_modules/@raruto/leaflet-elevation/libs/leaflet-ruler.min.js"],"sourcesContent":["L.Control.Ruler=L.Control.extend({options:{position:\"topright\",circleMarker:{color:\"red\",radius:2},lineStyle:{color:\"red\",dashArray:\"1,6\"},lengthUnit:{display:\"km\",decimal:2,factor:.001,label:\"Distance:\"},angleUnit:{display:\"&deg;\",decimal:2,factor:360,label:\"Bearing:\"}},initialize:function(options){L.setOptions(this,options),this._layers=L.layerGroup(),this._enabled=!1},onAdd:function(map){this._defaultCursor=map._container.style.cursor,this._map=map;let container=L.DomUtil.create(\"div\",\"leaflet-bar\");return container.classList.add(\"leaflet-ruler\"),L.DomEvent.disableClickPropagation(container),L.DomEvent.on(container,\"click\",this._toggleMeasure,this),this._container=container},onRemove:function(){L.DomEvent.off(this._container,\"click\",this._toggleMeasure,this)},_attachMouseEvents:function(){let map=this._map;map.doubleClickZoom.disable(),L.DomEvent.on(map._container,\"keydown\",this._escape,this),L.DomEvent.on(map._container,\"dblclick\",this._closePath,this),map._container.style.cursor=\"crosshair\",map.on(\"click\",this._addPoint,this),map.on(\"mousemove\",this._moving,this)},_removeMouseEvents:function(){let map=this._map;map.doubleClickZoom.enable(),L.DomEvent.off(map._container,\"keydown\",this._escape,this),L.DomEvent.off(map._container,\"dblclick\",this._closePath,this),map._container.style.cursor=this._defaultCursor,map.off(\"click\",this._addPoint,this),map.off(\"mousemove\",this._moving,this)},_disable:function(){this._enabled=!1,this._container.classList.remove(\"leaflet-ruler-clicked\"),this._map.removeLayer(this._layers),this._layers=L.layerGroup(),this._latlngs=[],this._totalLength=0,this._removeMouseEvents()},_enable:function(){this._enabled=!0,this._container.classList.add(\"leaflet-ruler-clicked\"),this._circles=L.featureGroup().addTo(this._layers),this._polyline=L.polyline([],this.options.lineStyle).addTo(this._layers),this._layers.addTo(this._map),this._latlngs=[],this._totalLength=0,this._attachMouseEvents()},_toggleMeasure:function(){this._enabled?this._disable():this._enable()},_drawTooltip:function(latlng,layer,incremental){let clickCount=this._latlngs.length,lastClick=clickCount?this._latlngs[clickCount-1]:latlng,bearing=this._calculateBearing(lastClick,latlng),distance=lastClick.distanceTo(latlng)*this.options.lengthUnit.factor,totalLength,plusLength;incremental?(totalLength=(clickCount?distance+this._totalLength||0:distance).toFixed(this.options.lengthUnit.decimal),plusLength=clickCount?'<br><div class=\"plus-length\">(+'+distance.toFixed(this.options.lengthUnit.decimal)+\")</div>\":\"\"):(this._totalLength+=distance,totalLength=(clickCount?this._totalLength:distance).toFixed(this.options.lengthUnit.decimal),plusLength=\"\");var text=\"<b>\"+this.options.angleUnit.label+\"</b>&nbsp;\"+bearing.toFixed(this.options.angleUnit.decimal)+\"&nbsp;\"+this.options.angleUnit.display+\"<br><b>\"+this.options.lengthUnit.label+\"</b>&nbsp;\"+totalLength+\"&nbsp;\"+this.options.lengthUnit.display+plusLength;layer.setLatLng(latlng);let tooltip=layer.getTooltip();return tooltip?tooltip.setTooltipContent(text):layer.bindTooltip(text,incremental?{direction:\"auto\",sticky:!0,offset:L.point(0,-40),className:\"moving-tooltip\"}:{permanent:!0,className:\"result-tooltip\"}).openTooltip(),layer},_addPoint:function(e){let latlng=e.latlng||e,point=L.circleMarker(latlng,this.options.circleMarker).addTo(this._circles);this._polyline.addLatLng(latlng),this._latlngs.length&&!latlng.equals(this._latlngs[this._latlngs.length-1])&&this._drawTooltip(latlng,point,!1),this._latlngs.push(latlng)},_moving:function(e){if(this._latlngs.length){let lastCLick=this._latlngs[this._latlngs.length-1];this._tempLine||(this._tempLine=L.polyline([],this.options.lineStyle).addTo(this._map)),this._tempPoint||(this._tempPoint=L.circleMarker(e.latlng,this.options.circleMarker).addTo(this._map)),this._tempLine.setLatLngs([lastCLick,e.latlng]),this._drawTooltip(e.latlng,this._tempPoint,!0),L.DomEvent.off(this._container,\"click\",this._toggleMeasure,this)}},_escape:function(e){27===e.keyCode&&(this._latlngs.length?this._closePath():(this._enabled=!0,this._toggleMeasure()))},_calculateBearing:function(start,end){const toRad=L.DomUtil.DEG_TO_RAD,toDeg=this.options.angleUnit.factor/2/Math.PI;let y=Math.sin((end.lng-start.lng)*toRad)*Math.cos(end.lat*toRad),x=Math.cos(start.lat*toRad)*Math.sin(end.lat*toRad)-Math.sin(start.lat*toRad)*Math.cos(end.lat*toRad)*Math.cos((end.lng-start.lng)*toRad);return(Math.atan2(y,x)*toDeg+this.options.angleUnit.factor)%this.options.angleUnit.factor},_closePath:function(){this._tempLine&&(this._map.removeLayer(this._tempLine),this._tempLine=null),this._tempPoint&&(this._map.removeLayer(this._tempPoint),this._tempLine=null),this._latlngs.length<=1&&this._map.removeLayer(this._circles),this._enabled=!1,L.DomEvent.on(this._container,\"click\",this._toggleMeasure,this),this._toggleMeasure()}}),L.control.ruler=function(options){return new L.Control.Ruler(options)};"],"names":["L","Control","Ruler","extend","options","position","circleMarker","color","radius","lineStyle","dashArray","lengthUnit","display","decimal","factor","label","angleUnit","initialize","setOptions","this","_layers","layerGroup","_enabled","onAdd","map","_defaultCursor","_container","style","cursor","_map","container","DomUtil","create","classList","add","DomEvent","disableClickPropagation","on","_toggleMeasure","onRemove","off","_attachMouseEvents","doubleClickZoom","disable","_escape","_closePath","_addPoint","_moving","_removeMouseEvents","enable","_disable","remove","removeLayer","_latlngs","_totalLength","_enable","_circles","featureGroup","addTo","_polyline","polyline","_drawTooltip","latlng","layer","incremental","totalLength","plusLength","clickCount","length","lastClick","bearing","_calculateBearing","distance","distanceTo","toFixed","text","setLatLng","tooltip","getTooltip","setTooltipContent","bindTooltip","direction","sticky","offset","point","className","permanent","openTooltip","e","addLatLng","equals","push","lastCLick","_tempLine","_tempPoint","setLatLngs","keyCode","start","end","toRad","DEG_TO_RAD","toDeg","Math","PI","y","sin","lng","cos","lat","x","atan2","control","ruler"],"sourceRoot":""}