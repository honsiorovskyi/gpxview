{"version":3,"file":"521.bundle.js","mappings":"sGAAO,SAASA,IAEf,MAAMC,EAAIC,EAAEC,QAAQC,UAAUC,MAE9B,IAAIC,EAAWC,KAAKC,QAChBC,EAAW,CAAC,EAKhB,OAHAH,EAAKI,eAAiBJ,EAAKK,SAAWJ,KAAKK,aAAgBN,EAAKI,gBAAkB,EAClFD,EAASI,MAAaP,EAAKK,SAAW,KAAOL,EAAKQ,OAE3C,CACNC,KAAM,WACNC,UAAU,EACVC,KAAM,OACNC,KAAMT,EAASI,MACfM,SAAU,EACVC,YAAa,CAACnB,EAAGoB,KAAOA,EAAI,EAAId,KAAKe,MAAMD,EAAI,GAAGE,KAAO,GAAMhB,KAAKe,MAAMD,GAAGG,OAAOC,WAAWlB,KAAKe,MAAMD,EAAI,EAAIA,EAAI,EAAIA,GAAGG,QAAUlB,EAAKI,eAAkB,IAE9JgB,aAAc,CAACjB,EAAUY,IAAMd,KAAKoB,WAAWlB,SAAWA,EAC1DmB,MAAOtB,EAAKG,UAAY,CACvBoB,KAAU,IACVC,SAAU,SACVF,MAAU,IACVG,OAAU,GACVC,OAAU,IAAMzB,KAAK0B,SAAW,EAChCC,MAAU,IAAMjC,EAAEkC,MAAM5B,KAAK6B,OAAOC,UAAY,EAAG,CAAC,EAAG,OAExDC,KAAMhC,EAAKG,UAAY,CACtBoB,KAAY,IACZC,SAAY,SACZF,MAAY,KAEbW,QAASjC,EAAKG,UAAY,CACzBM,KAAM,IACNyB,MAAQC,GAASvC,EAAED,EAAE,OAASA,EAAEyC,MAAMD,EAAKnC,EAAKqC,OAAQrC,EAAKsC,WAAa,IAAMnC,EAASI,MACzFgC,MAAO,IAERC,QAASxC,EAAKG,UAAY,CACzB,OAAY,CACXI,MAAO,iBACPkC,MAAQC,IAAWA,EAAMvC,UAAY,GAAGwC,QAAQ,GAAK,SAAWxC,EAASI,MACzEgC,MAAO,KAIX,C","sources":["webpack://gpx-viewer/./node_modules/@raruto/leaflet-elevation/src/handlers/distance.js"],"sourcesContent":["export function Distance() {\n\n\tconst _ = L.Control.Elevation.Utils;\n\n\tlet opts     = this.options;\n\tlet distance = {};\n\n\topts.distanceFactor = opts.imperial ? this.__mileFactor : (opts.distanceFactor || 1); // 1 km = (1000 m)\n\tdistance.label      = opts.imperial ? \"mi\" : opts.xLabel;\n\n\treturn {\n\t\tname: 'distance',\n\t\trequired: true,\n\t\tattr: 'dist',\n\t\tunit: distance.label,\n\t\tdecimals: 5,\n\t\tpointToAttr: (_, i) => (i > 0 ? this._data[i - 1].dist : 0) + (this._data[i].latlng.distanceTo(this._data[i > 0 ? i - 1 : i].latlng) * opts.distanceFactor) / 1000, // convert back km to meters\n\t\t// stats: { total: _.iSum },\n\t\tonPointAdded: (distance, i) => this.track_info.distance = distance,\n\t\tscale: opts.distance && {\n\t\t\taxis    : \"x\",\n\t\t\tposition: \"bottom\",\n\t\t\tscale   : \"x\", // this._chart._x,\n\t\t\tlabelY  : 25,\n\t\t\tlabelX  : () => this._width() + 6,\n\t\t\tticks   : () => _.clamp(this._chart._xTicks() / 2, [4, +Infinity]),\n\t\t},\n\t\tgrid: opts.distance && {\n\t\t\taxis      : \"x\",\n\t\t\tposition  : \"bottom\",\n\t\t\tscale     : \"x\" // this._chart._x,\n\t\t},\n\t\ttooltip: opts.distance && {\n\t\t\tname: 'x',\n\t\t\tchart: (item) => L._(\"x: \") + _.round(item[opts.xAttr], opts.decimalsX) + \" \" + distance.label,\n\t\t\torder: 20\n\t\t},\n\t\tsummary: opts.distance && {\n\t\t\t\"totlen\"  : {\n\t\t\t\tlabel: \"Total Length: \",\n\t\t\t\tvalue: (track) => (track.distance || 0).toFixed(2) + '&nbsp;' + distance.label,\n\t\t\t\torder: 10\n\t\t\t}\n\t\t}\n\t};\n}\n"],"names":["Distance","_","L","Control","Elevation","Utils","opts","this","options","distance","distanceFactor","imperial","__mileFactor","label","xLabel","name","required","attr","unit","decimals","pointToAttr","i","_data","dist","latlng","distanceTo","onPointAdded","track_info","scale","axis","position","labelY","labelX","_width","ticks","clamp","_chart","_xTicks","grid","tooltip","chart","item","round","xAttr","decimalsX","order","summary","value","track","toFixed"],"sourceRoot":""}