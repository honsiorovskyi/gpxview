"use strict";(self.webpackChunkgpx_viewer=self.webpackChunkgpx_viewer||[]).push([[791],{791:(t,e,i)=>{function a(){const t=L.Control.Elevation.Utils;let e=this.options,i={};return i.label=e.timeLabel||"t",e.timeFactor=e.timeFactor||3600,this._timeAVGSpeed=(e.timeAVGSpeed||3.6)*(e.speedFactor||1),e.timeFormat?"time"==e.timeFormat?e.timeFormat=t=>new Date(t).toLocaleTimeString():"date"==e.timeFormat&&(e.timeFormat=t=>new Date(t).toLocaleDateString()):e.timeFormat=t=>new Date(t).toLocaleString().replaceAll("/","-").replaceAll(","," "),e.xTimeFormat=e.xTimeFormat||(e=>t.formatTime(e).split("'")[0]),{name:"time",required:this.options.speed||this.options.acceleration||this.options.timestamps,coordinateProperties:["coordTimes","times","time"],coordPropsToMeta:t.parseDate,pointToAttr:function(t,e){if(!t.meta||!t.meta.time)if(t.meta=t.meta||{},e>0){let i=this._data[e].dist-this._data[e-1].dist,a=this._data[e-1].time.getTime();t.meta.time=new Date(a+i/this._timeAVGSpeed*this.options.timeFactor*1e3)}else t.meta.time=new Date(Date.now());let i=t.meta.time.getTime()-60*t.meta.time.getTimezoneOffset()*1e3!=0?t.meta.time:0;return this._data[e].duration=e>0?(this._data[e-1].duration||0)+Math.abs(i-this._data[e-1].time):0,i},onPointAdded:(t,e)=>this.track_info.time=this._data[e].duration,scale:e.time&&"summary"!=e.time&&!L.Browser.mobile&&{axis:"x",position:"top",scale:{attr:"duration",min:0},label:i.label,labelY:-10,labelX:()=>this._width(),name:"time",ticks:()=>t.clamp(this._chart._xTicks()/2,[4,1/0]),tickFormat:t=>0==t?"":e.xTimeFormat(t),onAxisMount:t=>{t.select(".domain").remove(),t.selectAll("text").attr("opacity",.65).style("font-family","Monospace").style("font-size","110%"),t.selectAll(".tick line").attr("y2",this._height()).attr("stroke-dasharray",2).attr("opacity",.75)}},tooltips:[this.options.time&&{name:"time",chart:e=>L._("T: ")+t.formatTime(e.duration||0),order:20},this.options.timestamps&&{name:"date",chart:t=>L._("t: ")+this.options.timeFormat(t.time),order:21}],summary:this.options.time&&{tottime:{label:"Total Time: ",value:e=>t.formatTime(e.time||0),order:20}}}}i.r(e),i.d(e,{Time:()=>a})}}]);
//# sourceMappingURL=791.bundle.js.map