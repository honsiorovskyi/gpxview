{"version":3,"file":"811.bundle.js","mappings":"sGAAO,SAASA,IAEf,MAAMC,EAAIC,EAAEC,QAAQC,UAAUC,MAE9B,IAAIC,EAAQC,KAAKC,QACbC,EAAQ,CAAC,EAIb,OAFAA,EAAMC,MAAiBJ,EAAKK,YAAc,IAEnC,CACNC,KAAM,QACNC,KAAM,QACNC,KAAML,EAAMC,MACZK,SAAUR,KAAKC,QAAQQ,eACvBC,WAAYV,KAAKC,QAAQU,WACzBC,SAAU,EACVC,YAAa,CAACnB,EAAGoB,KAChB,IAAIC,EAAoE,KAA3Df,KAAKgB,MAAMF,GAAGG,KAAOjB,KAAKgB,MAAMF,EAAI,EAAIA,EAAI,EAAIA,GAAGG,MAC5DC,EAAQlB,KAAKgB,MAAMF,GAAGd,KAAKC,QAAQkB,OAASnB,KAAKgB,MAAMF,EAAI,EAAIA,EAAI,EAAIA,GAAGd,KAAKC,QAAQkB,OAC3F,OAAc,IAAPJ,EAAYG,EAAKH,EAAM,IAAMK,KAErCC,aAAc,CAAC3B,EAAGoB,KACjB,IAAIQ,EAAKtB,KAAKgB,MAAMF,GAAGd,KAAKC,QAAQkB,OAASnB,KAAKgB,MAAMF,EAAI,EAAIA,EAAI,EAAIA,GAAGd,KAAKC,QAAQkB,OACpFG,EAAK,EAAQtB,KAAKuB,WAAWC,QAAWxB,KAAKuB,WAAWC,QAAU,GAAKF,EAClEA,EAAK,IAAGtB,KAAKuB,WAAWE,SAAWzB,KAAKuB,WAAWE,SAAW,GAAKH,IAE7EI,MAAO,CAAEC,IAAKjC,EAAEkC,KAAMC,IAAKnC,EAAEoC,KAAMC,IAAKrC,EAAEsC,MAC1CC,MAAO,CACNC,KAAa,IACbC,SAAa,QACbF,MAAa,CAAEJ,KAAM,EAAGF,IAAK,GAC7BS,YAAa,GACbC,OAAa,GACbC,QAAc,GAEfC,KAAM,CACLpC,MAAe,QACfgB,MAAe,QACfqB,OAAe,WACfC,OAAe,QACfC,MAAe,OACfC,YAAe,OACfC,cAAe,MACfC,YAAe,QAEhBC,QAAS,CACRC,MAAQC,GAASrD,EAAED,EAAE,OAASsD,EAAK9C,MAAQA,EAAMC,MACjD8C,OAASD,GAASE,KAAKC,MAAMH,EAAK9C,OAASA,EAAMC,MACjDiD,MAAO,IAERC,QAAS,CACR,SAAY,CACXlD,MAAO,cACPmD,MAAO,CAACC,EAAOhD,IAAS2C,KAAKC,MAAMI,EAAMC,WAAa,GAAK,SAAWjD,EACtE6C,MAAO,IAER,SAAY,CACXjD,MAAO,cACPmD,MAAO,CAACC,EAAOhD,IAAS2C,KAAKC,MAAMI,EAAME,WAAa,GAAK,SAAWlD,EACtE6C,MAAO,IAER,SAAY,CACXjD,MAAO,cACPmD,MAAO,CAACC,EAAOhD,IAAS2C,KAAKC,MAAMI,EAAMG,WAAa,GAAK,SAAWnD,EACtE6C,MAAO,IAER,OAAY,CACXjD,MAAO,iBACPmD,MAAO,CAACC,EAAOhD,IAAS2C,KAAKC,MAAMI,EAAM/B,QAAU,GAAK,UAAYxB,KAAKC,QAAQ0D,SAAW,KAAO,KACnGP,MAAO,IAER,QAAa,CACZjD,MAAO,kBACPmD,MAAO,CAACC,EAAOhD,IAAS2C,KAAKC,MAAMI,EAAM9B,SAAW,GAAK,UAAYzB,KAAKC,QAAQ0D,SAAW,KAAO,KACpGP,MAAO,KAIX,C","sources":["webpack://gpx-viewer/./node_modules/@raruto/leaflet-elevation/src/handlers/slope.js"],"sourcesContent":["export function Slope() {\r\n\r\n\tconst _ = L.Control.Elevation.Utils;\r\n\r\n\tlet opts  = this.options;\r\n\tlet slope = {};\r\n\r\n\tslope.label          = opts.slopeLabel || '%';\r\n\r\n\treturn {\r\n\t\tname: 'slope',\r\n\t\tmeta: 'slope',\r\n\t\tunit: slope.label,\r\n\t\tdeltaMax: this.options.slopedDeltaMax,\r\n\t\tclampRange: this.options.slopeRange,\r\n\t\tdecimals: 2,\r\n\t\tpointToAttr: (_, i) => { // slope in % = ( dy / dx ) * 100;\r\n\t\t\tlet dx    = (this._data[i].dist - this._data[i > 0 ? i - 1 : i].dist) * 1000;\r\n\t\t\tlet dy    = this._data[i][this.options.yAttr] - this._data[i > 0 ? i - 1 : i][this.options.yAttr];\r\n\t\t\treturn dx !== 0 ? (dy / dx) * 100 : NaN; \r\n\t\t},\r\n\t\tonPointAdded: (_, i) => {\r\n\t\t\tlet dz = this._data[i][this.options.yAttr] - this._data[i > 0 ? i - 1 : i][this.options.yAttr];\r\n\t\t\tif (dz > 0)      this.track_info.ascent  = (this.track_info.ascent || 0) + dz;  // Total Ascent\r\n\t\t\telse if (dz < 0) this.track_info.descent = (this.track_info.descent || 0) - dz; // Total Descent\r\n\t\t},\r\n\t\tstats: { max: _.iMax, min: _.iMin, avg: _.iAvg, },\r\n\t\tscale: {\r\n\t\t\taxis       : \"y\",\r\n\t\t\tposition   : \"right\",\r\n\t\t\tscale      : { min: -1, max: +1 },\r\n\t\t\ttickPadding: 16,\r\n\t\t\tlabelX     : 25,\r\n\t\t\tlabelY     : -8,\r\n\t\t},\r\n\t\tpath: {\r\n\t\t\tlabel        : 'Slope',\r\n\t\t\tyAttr        : 'slope',\r\n\t\t\tscaleX       : 'distance',\r\n\t\t\tscaleY       : 'slope',\r\n\t\t\tcolor        : '#F00',\r\n\t\t\tstrokeColor  : '#000',\r\n\t\t\tstrokeOpacity: \"0.5\",\r\n\t\t\tfillOpacity  : \"0.25\",\r\n\t\t},\r\n\t\ttooltip: {\r\n\t\t\tchart: (item) => L._(\"m: \") + item.slope + slope.label,\r\n\t\t\tmarker: (item) => Math.round(item.slope) + slope.label,\r\n\t\t\torder: 40,\r\n\t\t},\r\n\t\tsummary: {\r\n\t\t\t\"minslope\": {\r\n\t\t\t\tlabel: \"Min Slope: \",\r\n\t\t\t\tvalue: (track, unit) => Math.round(track.slope_min || 0) + '&nbsp;' + unit,\r\n\t\t\t\torder: 40\r\n\t\t\t},\r\n\t\t\t\"maxslope\": {\r\n\t\t\t\tlabel: \"Max Slope: \",\r\n\t\t\t\tvalue: (track, unit) => Math.round(track.slope_max || 0) + '&nbsp;' + unit,\r\n\t\t\t\torder: 41\r\n\t\t\t},\r\n\t\t\t\"avgslope\": {\r\n\t\t\t\tlabel: \"Avg Slope: \",\r\n\t\t\t\tvalue: (track, unit) => Math.round(track.slope_avg || 0) + '&nbsp;' + unit,\r\n\t\t\t\torder: 42\r\n\t\t\t},\r\n\t\t\t\"ascent\"  : {\r\n\t\t\t\tlabel: \"Total Ascent: \",\r\n\t\t\t\tvalue: (track, unit) => Math.round(track.ascent || 0) + '&nbsp;' + (this.options.imperial ? 'ft' : 'm'),\r\n\t\t\t\torder: 43\r\n\t\t\t},\r\n\t\t\t\"descent\"  : {\r\n\t\t\t\tlabel: \"Total Descent: \",\r\n\t\t\t\tvalue: (track, unit) => Math.round(track.descent || 0) + '&nbsp;' + (this.options.imperial ? 'ft' : 'm'),\r\n\t\t\t\torder: 45\r\n\t\t\t},\r\n\t\t}\r\n\t};\r\n}\r\n"],"names":["Slope","_","L","Control","Elevation","Utils","opts","this","options","slope","label","slopeLabel","name","meta","unit","deltaMax","slopedDeltaMax","clampRange","slopeRange","decimals","pointToAttr","i","dx","_data","dist","dy","yAttr","NaN","onPointAdded","dz","track_info","ascent","descent","stats","max","iMax","min","iMin","avg","iAvg","scale","axis","position","tickPadding","labelX","labelY","path","scaleX","scaleY","color","strokeColor","strokeOpacity","fillOpacity","tooltip","chart","item","marker","Math","round","order","summary","value","track","slope_min","slope_max","slope_avg","imperial"],"sourceRoot":""}